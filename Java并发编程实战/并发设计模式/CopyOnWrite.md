在做写操作的时候，复制。

复制什么呢？

复制原来的数据。

这样原来的数据在读的时候就可以不加锁了。

读的是一个副本。

MySQL的onlineDDL就是使用的这种方式。

String在修改的时候，也是使用了一个备份，把已有的拷贝到新的上面。



CopyOnWriteArrayList在修改的时候，是会复制整个数组的。基本等于没用。



函数式编程的基础是不可变性。所以所有的lambda里面的变量都是final的。

至于为什么是这样不太清楚。





