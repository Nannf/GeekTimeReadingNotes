- jdk

  - 诊断工具jconsole

  - jre

    - jvm
    - java核心类库

    

  ##### 放在jvm运行的好处

  - 一次编写，到处运行
    - 会编译成平台无关的字节码
    - 不同的平台（windows,linux）使用不同的jdk，屏蔽了平台的细节
  - 编写变得容易
    - 无需关注平台的实现细节
    - 一些复杂的垃圾回收，内存分配由jvm直接负责

  

  ##### 内存布局

  ![img](https://static001.geekbang.org/resource/image/ab/77/ab5c3523af08e0bf2f689c1d6033ef77.png)

  这个图老生常谈了，但凡看过jvm的，这个都是必备了。

  但是之前不了解的是：

  - jvm会加载class文件到虚拟机中
  - java万物皆是类，所有的类文件信息都在方法区里

  

  

  ##### 栈帧的大小编译器可知吗

  - 变长参数似乎不可知

  ##### 编译 & 解释

  - 解释执行： 逐条**字节码**翻译成机器码并执行
  - 编译执行： 把一个**方法**中的所有字节码编译成机器码再执行

  ![img](https://static001.geekbang.org/resource/image/5e/3b/5ee351091464de78eed75438b6f9183b.png)

  有几个关键点：

  - 二八定律：百分之二十的代码会占百分之八十的计算机资源
  - 一开始都是解释，然后会识别出热点代码
  - 以方法为单位编译执行

- 编译比解释执行更高效的原因是：每次解释执行都要翻译成机器码，但是编译已经翻译好了，肯定快

- 有个比喻：编译执行是做好一桌子菜开吃，解释执行是煮火锅。

- 即时编译因为已经了解了足够多的信息而让性能更佳，我们姑且听之。





